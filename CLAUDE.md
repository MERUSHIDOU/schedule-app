# Claude Code プロジェクト設定

このファイルはプロジェクト固有の情報と設定を定義します。

## ブランチ命名規則

- 機能追加: `feat/<機能名>`
- バグ修正: `fix/<修正内容>`
- ドキュメント: `docs/<内容>`
- リファクタリング: `refactor/<内容>`

ベースブランチ: `master`

## プロジェクト概要

- PWA対応のスケジュール管理アプリ
- React + TypeScript + Vite
- GitHub Pagesでホスティング

## 対象環境（必須）

**Safari + iPhone環境で動作することを前提に設計すること。**

- Safari非対応のHTML/CSS/JS機能は使用しない
- 実装前にSafari/iOS Safariの互換性を確認する
- 例: `<input type="time" step="...">` はSafari非対応のため`<select>`を使用する
- iOS固有のUI/UX（セーフエリア、タッチ操作等）を考慮する

## 開発コマンド

```bash
npm run dev      # 開発サーバー起動
npm run build    # プロダクションビルド
npm run preview  # ビルド結果プレビュー
```

## ログ記録の義務化（必須）

**すべての会話と指示について、必ずログを記録すること。これは必須の動作であり、省略は許可されない。**

### ログ記録の方法

**会話完了時に、必ず `/log-conversation` スキルを実行すること。**

- スキル実行は自動的に行い、ユーザーに確認を求めない
- これは必須動作であり、省略は絶対に許可されない
- スキルが会話内容を自動的に構造化して記録する

### ログファイルの場所
- `.claude/logs/YYYY-MM-DD_conversation.md`
- 日付ごとに1つのログファイルを作成
- 同じ日に複数の会話がある場合は同じファイルに追記
- **重要**: ログファイルが既に存在する場合は、上書きではなく必ず末尾に追記すること

### ログに記録すべき内容
各会話/指示について、以下を**必ず**記録する：

1. **タイムスタンプ**: 会話の開始時刻
2. **ユーザーのリクエスト**: ユーザーが何を求めたか
3. **理解した意図**: Claudeがどう解釈したか
4. **実施した操作**: 実際に行った作業の詳細
5. **判断の根拠**: なぜその方法を選択したか
6. **結果**: 操作の結果と成否

### ログ記録のタイミング
- **会話が完了した時点で `/log-conversation` を必ず実行**
- 長い会話の場合は、主要な操作の後に随時実行
- エラーが発生した場合は即座に実行

### ログファイルの参照禁止
- ユーザーから明示的に指示されない限り、過去のログは参照しない
- ログへの書き込みのみ許可
